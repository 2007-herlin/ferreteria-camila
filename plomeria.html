<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Plomería - Ferretería Camila</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f5f5f5;
      padding: 20px;
      margin: 0;
    }
    h1 {
      text-align: center;
      margin-bottom: 30px;
    }
    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
    }
    .product {
      background: #fff;
      border-radius: 10px;
      padding: 15px;
      box-shadow: 0 0 10px #ccc;
      text-align: center;
    }
    .product img {
      max-width: 100%;
      height: 150px;
      object-fit: contain;
      margin-bottom: 10px;
    }
    .product h3 {
      font-size: 18px;
      margin: 10px 0 5px;
    }
    .product p {
      margin: 5px 0;
    }
    .controls {
      margin-top: 10px;
    }
    .controls input[type="number"] {
      width: 50px;
      padding: 5px;
      margin-left: 10px;
    }
    .btn {
      margin-top: 10px;
      padding: 8px 15px;
      background: #000000;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .btn:hover {
      background: #333;
    }
    .btn-back {
      display: inline-block;
      background-color: #000000;
      color: white;
      padding: 10px 20px;
      text-decoration: none;
      font-weight: bold;
      border-radius: 4px;
      border: none;
      cursor: pointer;
      margin-bottom: 20px;
    }
    .btn-back:hover {
      background-color: #333;
    }
  </style>
</head>
<body>

<div style="margin-bottom: 20px; text-align: left;">
  <button class="btn-back" onclick="history.back()">&#x25C0; PLOMERÍA</button>
</div>

<div class="product-grid">
  <div class="product">
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ8ELVu2S1_CAJCcEhFOebNCtw6w8BOZ4J7hg&s" alt="TUBO DE FIBRA PPR" />
    <h3>TUBO DE FIBRA PPR</h3>
    <p>PRECIO: S/ 23.90</p>
    <div class="controls">
      <button class="btn">Agregar al carrito</button>
      <input type="number" value="1" min="1" />
    </div>
  </div>

  <div class="product">
    <img src="https://lh4.googleusercontent.com/proxy/8Q6Z1rvDr1U_1jj2RPt6v2AyEIPQKE-sxZgLLDMVKK71deaiXI4FCIuV1Q4pLZz2F1ExhZBsYFHIIl6n1S1mYfSDCxXfUa1QNwFV0eAR4-XrxPl_CV649Hihl-o96joXIw" alt="MANGUERA ESPIRAL DE PVC" />
    <h3>MANGUERA ESPIRAL DE PVC</h3>
    <p>PRECIO: S/ 3.75</p>
    <div class="controls">
      <button class="btn">Agregar al carrito</button>
      <input type="number" value="1" min="1" />
    </div>
  </div>

  <div class="product">
    <img src="https://lh4.googleusercontent.com/proxy/lSvsJM-JAfma62LgcJ9_Jk-j8XdFog3cSVXIvKg4FQwHJJlmthq9TwsUgomnJg-jAqZZCe1-SL-zuvQVVaZ96KpNGLEaBfEeHep9uJZ-DFvjcFpPbLSfMvGZRua2KQml1xGDSmivufVg" alt="TUBERÍA DE ALCANTARILLADO CON JUNTA DE PVC" />
    <h3>TUBERÍA DE ALCANTARILLADO CON JUNTA DE PVC</h3>
    <p>PRECIO: S/ 207.50</p>
    <div class="controls">
      <button class="btn">Agregar al carrito</button>
      <input type="number" value="1" min="1" />
    </div>
  </div>

  <div class="product">
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRyVZDEu0VHyuDDfc0NiOiz4-mknRje9CK3Cg&s" alt="CONECTOR DE COBRE CON ROSCA INTERIOR 13mm" />
    <h3>CONECTOR DE COBRE CON ROSCA INTERIOR 13mm</h3>
    <p>PRECIO: S/ 21.85</p>
    <div class="controls">
      <button class="btn">Agregar al carrito</button>
      <input type="number" value="1" min="1" />
    </div>
  </div>

  <div class="product">
    <img src="https://m.media-amazon.com/images/I/41bfoYXCyNL.jpg" alt="LLAVE DE AGUA 13mm" />
    <h3>LLAVE DE AGUA 13mm</h3>
    <p>PRECIO: S/ 52.15</p>
    <div class="controls">
      <button class="btn">Agregar al carrito</button>
      <input type="number" value="1" min="1" />
    </div>
  </div>

  <div class="product">
    <img src="https://serviciototal.com.mx/cdn/shop/files/PegaION.png?v=1743626508&width=1946" alt="PEGAMENTO DE PVC" />
    <h3>PEGAMENTO DE PVC</h3>
    <p>PRECIO: S/ 90.40</p>
    <div class="controls">
      <button class="btn">Agregar al carrito</button>
      <input type="number" value="1" min="1" />
    </div>
  </div>

  <div class="product">
    <img src="https://cablex.pe/cdn/shop/files/cable-desnudo_a9f7bdd2-9b2e-436d-a134-dcb7df73374e.png?v=1692915291" alt="TUBO DE COBRE 16mm" />
    <h3>TUBO DE COBRE FLEXIBLE 16mm</h3>
    <p>PRECIO: S/ 149.00</p>
    <div class="controls">
      <button class="btn">Agregar al carrito</button>
      <input type="number" value="1" min="1" />
    </div>
  </div>

  <div class="product">
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRVv52g205pSKNY5qO_Mys5nqYHppRba-sDdQ&s" alt="CODO DE PVC 100mm" />
    <h3>CODO DE PVC 100mm</h3>
    <p>PRECIO: S/ 29.00</p>
    <div class="controls">
      <button class="btn">Agregar al carrito</button>
      <input type="number" value="1" min="1" />
    </div>
  </div>
</div>

<script>
  function agregarAlCarritoDesdeElemento(boton) {
    const productoDiv = boton.closest('.product');
    const nombre = productoDiv.querySelector('h3').innerText;
    const precioTexto = productoDiv.querySelector('p').innerText.replace('PRECIO: S/', '').trim();
    const precio = parseFloat(precioTexto);
    const cantidad = parseInt(productoDiv.querySelector('input[type="number"]').value);

    if (isNaN(cantidad) || cantidad <= 0) {
      alert("Por favor ingresa una cantidad válida.");
      return;
    }

    let carrito = JSON.parse(localStorage.getItem('carrito')) || [];
    const index = carrito.findIndex(p => p.nombre === nombre);
    if (index !== -1) {
      carrito[index].cantidad += cantidad;
    } else {
      carrito.push({ nombre, precio, cantidad });
    }

    localStorage.setItem('carrito', JSON.stringify(carrito));
    alert(`${cantidad} unidad(es) de "${nombre}" agregadas al carrito.`);
  }

  document.querySelectorAll('.product .btn').forEach(btn => {
    btn.addEventListener('click', function () {
      agregarAlCarritoDesdeElemento(this);
    });
  });
</script>

</body>
</html>
